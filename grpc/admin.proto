syntax = "proto3";

import "common.proto";


option java_multiple_files = true;
option java_package = "io.aman.wxj.admin";
option java_outer_classname = "Admin";

package admin;


message FilterUserInput {
  string user_name = 1;
  string typeable_id = 2;
  string typeable_type = 3;
  string status = 4;
  
}

message UsersParams {
  FilterUserInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  
}

message CreateUserInput {
  string user_name = 1;
  string password = 2;
  int32 typeable_id = 3;
  string typeable_type = 4;
  string status = 5;
  
  common.UserInfo user = 6;
}

message UpdateUserInput {
  string user_name = 1;
  string password = 2;
  int32 typeable_id = 3;
  string typeable_type = 4;
  string status = 5;
  
  common.UserInfo user = 6;
  int32 id = 7;
}

message User {
  int32 id = 1;
  string user_name = 2;
  string password = 3;
  int32 typeable_id = 4;
  string typeable_type = 5;
  string status = 6;
  int32 created_at = 7;
  int32 updated_at = 8;
  
}

message Users {
  repeated User users = 1;
}

message UserResult {
  User user = 1;
  repeated common.NormalError errors = 2;
}


message FilterOrgInput {
  string code = 1;
  string name = 2;
  string address = 3;
  string employee_id = 4;
  string status = 5;
  
}

message OrgsParams {
  FilterOrgInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  repeated int32 employee_ids = 6;
  
}

message CreateOrgInput {
  string code = 1;
  string name = 2;
  string address = 3;
  int32 employee_id = 4;
  string status = 5;
  
  common.UserInfo user = 6;
}

message UpdateOrgInput {
  string code = 1;
  string name = 2;
  string address = 3;
  int32 employee_id = 4;
  string status = 5;
  
  common.UserInfo user = 6;
  int32 id = 7;
}

message Org {
  int32 id = 1;
  string code = 2;
  string name = 3;
  string address = 4;
  int32 employee_id = 5;
  string status = 6;
  admin.Employee employee = 7;
  repeated admin.Department departments = 8;
  int32 created_at = 9;
  int32 updated_at = 10;
  
}

message Orgs {
  repeated Org orgs = 1;
}

message OrgResult {
  Org org = 1;
  repeated common.NormalError errors = 2;
}


message FilterDutyInput {
  string code = 1;
  string name = 2;
  string role_id = 3;
  
}

message DutiesParams {
  FilterDutyInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  repeated int32 role_ids = 6;
  
}

message CreateDutyInput {
  string code = 1;
  string name = 2;
  int32 role_id = 3;
  
  common.UserInfo user = 4;
}

message UpdateDutyInput {
  string code = 1;
  string name = 2;
  int32 role_id = 3;
  
  common.UserInfo user = 4;
  int32 id = 5;
}

message Duty {
  int32 id = 1;
  string code = 2;
  string name = 3;
  int32 role_id = 4;
  admin.Role role = 5;
  repeated admin.Employee employees = 6;
  repeated admin.Access accesses = 7;
  int32 created_at = 8;
  int32 updated_at = 9;
  
}

message Duties {
  repeated Duty duties = 1;
}

message DutyResult {
  Duty duty = 1;
  repeated common.NormalError errors = 2;
}


message FilterEntityInput {
  string code = 1;
  string name = 2;
  string alias = 3;
  
}

message EntitiesParams {
  FilterEntityInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  
}

message CreateEntityInput {
  string code = 1;
  string name = 2;
  string alias = 3;
  
  common.UserInfo user = 4;
}

message UpdateEntityInput {
  string code = 1;
  string name = 2;
  string alias = 3;
  
  common.UserInfo user = 4;
  int32 id = 5;
}

message Entity {
  int32 id = 1;
  string code = 2;
  string name = 3;
  string alias = 4;
  repeated admin.Operation operations = 5;
  int32 created_at = 6;
  int32 updated_at = 7;
  
}

message Entities {
  repeated Entity entities = 1;
}

message EntityResult {
  Entity entity = 1;
  repeated common.NormalError errors = 2;
}


message FilterDepartmentInput {
  string code = 1;
  string name = 2;
  string department_id = 3;
  string employee_id = 4;
  string org_id = 5;
  string status = 6;
  
}

message DepartmentsParams {
  FilterDepartmentInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  repeated int32 org_ids = 6;
  
}

message CreateDepartmentInput {
  string code = 1;
  string name = 2;
  int32 department_id = 3;
  int32 employee_id = 4;
  int32 org_id = 5;
  string status = 6;
  
  common.UserInfo user = 7;
}

message UpdateDepartmentInput {
  string code = 1;
  string name = 2;
  int32 department_id = 3;
  int32 employee_id = 4;
  int32 org_id = 5;
  string status = 6;
  
  common.UserInfo user = 7;
  int32 id = 8;
}

message Department {
  int32 id = 1;
  string code = 2;
  string name = 3;
  int32 department_id = 4;
  int32 employee_id = 5;
  int32 org_id = 6;
  string status = 7;
  admin.Org org = 8;
  int32 created_at = 9;
  int32 updated_at = 10;
  
}

message Departments {
  repeated Department departments = 1;
}

message DepartmentResult {
  Department department = 1;
  repeated common.NormalError errors = 2;
}


message FilterRoleInput {
  string code = 1;
  string org_id = 2;
  string name = 3;
  
}

message RolesParams {
  FilterRoleInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  repeated int32 org_ids = 6;
  
}

message CreateRoleInput {
  string code = 1;
  int32 org_id = 2;
  string name = 3;
  
  common.UserInfo user = 4;
}

message UpdateRoleInput {
  string code = 1;
  int32 org_id = 2;
  string name = 3;
  
  common.UserInfo user = 4;
  int32 id = 5;
}

message Role {
  int32 id = 1;
  string code = 2;
  int32 org_id = 3;
  string name = 4;
  admin.Org org = 5;
  repeated admin.Operation operations = 6;
  repeated admin.Duty duties = 7;
  int32 created_at = 8;
  int32 updated_at = 9;
  
}

message Roles {
  repeated Role roles = 1;
}

message RoleResult {
  Role role = 1;
  repeated common.NormalError errors = 2;
}


message FilterEmployeeInput {
  string code = 1;
  string department_id = 2;
  string duty_id = 3;
  string sex = 4;
  string age = 5;
  string name = 6;
  string cellphone = 7;
  string status = 8;
  string alias = 9;
  string birth = 10;
  string email = 11;
  
}

message EmployeesParams {
  FilterEmployeeInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  repeated int32 duty_ids = 6;
  repeated int32 department_ids = 7;
  
}

message CreateEmployeeInput {
  string code = 1;
  string avatar = 2;
  int32 department_id = 3;
  int32 duty_id = 4;
  string sex = 5;
  int32 age = 6;
  string name = 7;
  string cellphone = 8;
  string status = 9;
  string alias = 10;
  int32 birth = 11;
  string email = 12;
  
  common.UserInfo user = 13;
}

message UpdateEmployeeInput {
  string code = 1;
  string avatar = 2;
  int32 department_id = 3;
  int32 duty_id = 4;
  string sex = 5;
  int32 age = 6;
  string name = 7;
  string cellphone = 8;
  string status = 9;
  string alias = 10;
  int32 birth = 11;
  string email = 12;
  
  common.UserInfo user = 13;
  int32 id = 14;
}

message Employee {
  int32 id = 1;
  string code = 2;
  string avatar = 3;
  int32 department_id = 4;
  int32 duty_id = 5;
  string sex = 6;
  int32 age = 7;
  string name = 8;
  string cellphone = 9;
  string status = 10;
  string alias = 11;
  int32 birth = 12;
  string email = 13;
  admin.Duty duty = 14;
  admin.Department department = 15;
  int32 created_at = 16;
  int32 updated_at = 17;
  
}

message Employees {
  repeated Employee employees = 1;
}

message EmployeeResult {
  Employee employee = 1;
  repeated common.NormalError errors = 2;
}


message FilterOperationInput {
  string role_id = 1;
  string entity_id = 2;
  string auths = 3;
  
}

message OperationsParams {
  FilterOperationInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  repeated int32 role_ids = 6;
  repeated int32 entity_ids = 7;
  
}

message CreateOperationInput {
  int32 role_id = 1;
  int32 entity_id = 2;
  string auths = 3;
  
  common.UserInfo user = 4;
}

message UpdateOperationInput {
  int32 role_id = 1;
  int32 entity_id = 2;
  string auths = 3;
  
  common.UserInfo user = 4;
  int32 id = 5;
}

message Operation {
  int32 id = 1;
  int32 role_id = 2;
  int32 entity_id = 3;
  string auths = 4;
  admin.Role role = 5;
  admin.Entity entity = 6;
  int32 created_at = 7;
  int32 updated_at = 8;
  
}

message Operations {
  repeated Operation operations = 1;
}

message OperationResult {
  Operation operation = 1;
  repeated common.NormalError errors = 2;
}


message FilterAccessInput {
  string duty_id = 1;
  string org_list = 2;
  
}

message AccessesParams {
  FilterAccessInput filter = 1;
  repeated common.OrderItem order = 2;
  common.PaginateInput paginate = 3;
  common.UserInfo user = 4;
  repeated int32 ids = 5;
  repeated int32 duty_ids = 6;
  
}

message CreateAccessInput {
  int32 duty_id = 1;
  string org_list = 2;
  
  common.UserInfo user = 3;
}

message UpdateAccessInput {
  int32 duty_id = 1;
  string org_list = 2;
  
  common.UserInfo user = 3;
  int32 id = 4;
}

message Access {
  int32 id = 1;
  int32 duty_id = 2;
  string org_list = 3;
  admin.Duty duty = 4;
  int32 created_at = 5;
  int32 updated_at = 6;
  
}

message Accesses {
  repeated Access accesses = 1;
}

message AccessResult {
  Access access = 1;
  repeated common.NormalError errors = 2;
}




message AuthUser {
  User user = 1;
  string app = 2;
  string model = 3;
  int32 id = 4;
  
}

message AuthUserInput {
  string name = 1;
  string password = 2;
  
  common.UserInfo user = 3;
}




















service Admin {
  
  rpc ListUser(common.ID) returns (User) {}
rpc ListUsers(UsersParams) returns (Users) {}
rpc CreateUser(CreateUserInput) returns (UserResult) {}
rpc UpdateUser(UpdateUserInput) returns (UserResult) {}
rpc DeleteUser(common.ID) returns (common.ActionResult) {}

  rpc ListOrg(common.ID) returns (Org) {}
rpc ListOrgs(OrgsParams) returns (Orgs) {}
rpc CreateOrg(CreateOrgInput) returns (OrgResult) {}
rpc UpdateOrg(UpdateOrgInput) returns (OrgResult) {}
rpc DeleteOrg(common.ID) returns (common.ActionResult) {}

  rpc ListDuty(common.ID) returns (Duty) {}
rpc ListDuties(DutiesParams) returns (Duties) {}
rpc CreateDuty(CreateDutyInput) returns (DutyResult) {}
rpc UpdateDuty(UpdateDutyInput) returns (DutyResult) {}
rpc DeleteDuty(common.ID) returns (common.ActionResult) {}

  rpc ListEntity(common.ID) returns (Entity) {}
rpc ListEntities(EntitiesParams) returns (Entities) {}
rpc CreateEntity(CreateEntityInput) returns (EntityResult) {}
rpc UpdateEntity(UpdateEntityInput) returns (EntityResult) {}
rpc DeleteEntity(common.ID) returns (common.ActionResult) {}

  rpc ListDepartment(common.ID) returns (Department) {}
rpc ListDepartments(DepartmentsParams) returns (Departments) {}
rpc CreateDepartment(CreateDepartmentInput) returns (DepartmentResult) {}
rpc UpdateDepartment(UpdateDepartmentInput) returns (DepartmentResult) {}
rpc DeleteDepartment(common.ID) returns (common.ActionResult) {}

  rpc ListRole(common.ID) returns (Role) {}
rpc ListRoles(RolesParams) returns (Roles) {}
rpc CreateRole(CreateRoleInput) returns (RoleResult) {}
rpc UpdateRole(UpdateRoleInput) returns (RoleResult) {}
rpc DeleteRole(common.ID) returns (common.ActionResult) {}

  rpc ListEmployee(common.ID) returns (Employee) {}
rpc ListEmployees(EmployeesParams) returns (Employees) {}
rpc CreateEmployee(CreateEmployeeInput) returns (EmployeeResult) {}
rpc UpdateEmployee(UpdateEmployeeInput) returns (EmployeeResult) {}
rpc DeleteEmployee(common.ID) returns (common.ActionResult) {}

  rpc ListOperation(common.ID) returns (Operation) {}
rpc ListOperations(OperationsParams) returns (Operations) {}
rpc CreateOperation(CreateOperationInput) returns (OperationResult) {}
rpc UpdateOperation(UpdateOperationInput) returns (OperationResult) {}
rpc DeleteOperation(common.ID) returns (common.ActionResult) {}

  rpc ListAccess(common.ID) returns (Access) {}
rpc ListAccesses(AccessesParams) returns (Accesses) {}
rpc CreateAccess(CreateAccessInput) returns (AccessResult) {}
rpc UpdateAccess(UpdateAccessInput) returns (AccessResult) {}
rpc DeleteAccess(common.ID) returns (common.ActionResult) {}

  
  rpc CreateAuthUser (AuthUserInput) returns (AuthUser) {}

  
  
  
  
  
  
  
  
}